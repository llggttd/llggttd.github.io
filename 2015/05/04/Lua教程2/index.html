<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Lua教程二 | CrazyMan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="常用内置方法
type 判断数据类型
  type(arg)  接收一个参数， 返回值为string类型
  12345local a = 1local b = &quot;1&quot;local c = trueprint(type(a), type(b), type(c))
  返回值为八种数据类型其中之一：”nil”, “number”, “string”, “boolean”, “table”, “func">
<meta property="og:type" content="article">
<meta property="og:title" content="Lua教程二">
<meta property="og:url" content="https://blog.crazyman.top/2015/05/04/Lua教程2/index.html">
<meta property="og:site_name" content="CrazyMan">
<meta property="og:description" content="常用内置方法
type 判断数据类型
  type(arg)  接收一个参数， 返回值为string类型
  12345local a = 1local b = &quot;1&quot;local c = trueprint(type(a), type(b), type(c))
  返回值为八种数据类型其中之一：”nil”, “number”, “string”, “boolean”, “table”, “func">
<meta property="og:updated_time" content="2015-08-08T07:08:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lua教程二">
<meta name="twitter:description" content="常用内置方法
type 判断数据类型
  type(arg)  接收一个参数， 返回值为string类型
  12345local a = 1local b = &quot;1&quot;local c = trueprint(type(a), type(b), type(c))
  返回值为八种数据类型其中之一：”nil”, “number”, “string”, “boolean”, “table”, “func">
  
    <link rel="alternative" href="atom.xml" title="CrazyMan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
<!--   <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">CrazyMan</a>
      </h1>
      
        <h3 id="subtitle-wrap">
          <p id="subtitle">NOTHING IS TRUE</p>
        </h2>
        <h3 id="subtitle-wrap">
          <p id="subtitle">EVERYTHING IS PERMITTED</p>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/index.html">首页</a>
        
          <a class="main-nav-link" href="/archives">存档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="atom.xml" title="RSS Feed"></a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Lua教程2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/04/Lua教程2/" class="article-date">
  <time datetime="2015-05-04T14:39:09.000Z" itemprop="datePublished">2015-05-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/语言/">语言</a>►<a class="article-category-link" href="/categories/语言/LUA/">LUA</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Lua教程二
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="常用内置方法">常用内置方法</h2><ul>
<li><p>type 判断数据类型</p>
<p>  <em>type(arg)</em><br>  接收一个参数， 返回值为string类型</p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">local</span> b = <span class="string">"1"</span></span><br><span class="line"><span class="keyword">local</span> c = <span class="keyword">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a), <span class="built_in">type</span>(b), <span class="built_in">type</span>(c))</span><br></pre></td></tr></table></figure>
<p>  <em>返回值为八种数据类型其中之一：”nil”, “number”, “string”, “boolean”, “table”, “function”, “thread”, and “userdata”。</em></p>
<p>  <em>注意返回的值都是字符串</em></p>
</li>
<li><p>print 打印信息</p>
<p>  <em>print(arg1, arg2, …)</em><br>  <em>可以接收任意个数的参数，不支持格式化输出，要格式化输出，使用string.format()转化后输出</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = <span class="string">"Hello"</span></span><br><span class="line"><span class="keyword">local</span> b = <span class="string">"Lua"</span></span><br><span class="line"><span class="built_in">print</span>(a, b)</span><br><span class="line"><span class="built_in">print</span>(a .. <span class="string">","</span> .. b)</span><br></pre></td></tr></table></figure>
</li>
<li><p>tostring 转换成字符串类型</p>
<p>  <em>tostring(arg)</em></p>
</li>
<li><p>tonumber 转换成数值类型</p>
<p>  <em>tonumber(arg)</em></p>
</li>
<li><p>assert 断言</p>
<p>  <em>assert(v, msg)</em><br>  <em>v为要判断的值，当v的值为false时， 打印错误，错误的描述为msg字符串</em><br>  <em>当v的值为false时，打印错误，程序会终止运行</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> i = <span class="number">0</span></span><br><span class="line"><span class="built_in">assert</span>(i &gt; <span class="number">0</span>, <span class="string">"can not run, i &lt;= 0"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>pcall 在安全模式下调用方法</p>
<p>  <em>pcall(func, arg1, arg2, …)</em><br>  <em>可以通过pcall(func)以安全模式调用方法，方法func执行成功，pcall返回true, func执行失败，返回false和一个错误描述</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> id = <span class="number">12</span></span><br><span class="line">    <span class="built_in">assert</span>(id &gt; <span class="number">10</span>, <span class="string">"id can not less then 10"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> status, message = <span class="built_in">pcall</span>(check)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> status <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(message)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"success"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>xpcall 与pcall相似</p>
<p>  <em>xpcall(func, fh, arg1, arg2, …)</em><br>  <em>可以指定一个异常处理方法fh, 返回结果与pcall相同</em> </p>
</li>
<li><p>loadfile 加载外部lua文件</p>
<p>  <em>loadfile(filename)</em><br>  <em>加载一个外部的lua文件， 返回一个function</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> runInit = <span class="built_in">loadfile</span>(<span class="string">"init.lua"</span>)</span><br><span class="line">runInit()</span><br></pre></td></tr></table></figure>
</li>
<li><p>dofile 执行外部lua文件</p>
<p>  <em>dofile(filename)</em><br>  <em>加载一个外部的lua文件，并执行其中的语句, 返回值为外部lua文件的返回值</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> result = <span class="built_in">dofile</span>(<span class="string">"init.lua"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>require 加载外部模块</p>
<p>  <em>require(modname)</em><br>  <em>加载外部外部模块， 返回值为模块的返回值，具体加载过程参考package库部分</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> user = <span class="built_in">require</span>(<span class="string">"user"</span>)</span><br><span class="line">user.hello()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="全局变量">全局变量</h2><p><em>_G</em></p>
<p><em>lua语言内部全局变量，类型为table, 系统内置方法、加载的库、全局变量都存在这里</em></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xxxx = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(<span class="built_in">_G</span>) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="内置库（模块）">内置库（模块）</h2><ul>
<li><p>package</p>
<p>  <em>管理通过require加载的模块</em><br>  <em>当通过require加载模块时，按一下列过程查找模块</em></p>
<ul>
<li>检查package.loaded, 若package.loaded[modname]不为nil,则返回 package.loaded[modname]的值</li>
<li><p>若没有加载过，则通过以下四步查找模块</p>
<ul>
<li>查找package.preload里是否有对应的模块，有则返回，没有进入下一步</li>
<li>根据package.path中的设置路径，拼合上模块的名称后，依次进行查找，找到后进行加载，找不到进入下一步</li>
<li>与上一步相似，从package.cpath的路径中查找</li>
<li>查找c库</li>
</ul>
<p><em>package.path， package.cpath,决定了加载模块时的查找路径，可以通过修改它们的值来添加模块加载路径</em></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">package</span>.path = <span class="built_in">string</span>.format(<span class="string">"%s;%s"</span>, <span class="built_in">package</span>.path, <span class="string">"./mods/?.lua"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">package</span>.path)</span><br></pre></td></tr></table></figure>
<p><em>package.loaded保存了已经加载的模块， 当通过require加载模块成功后，模块会自动添加进package.loaded中</em></p>
</li>
</ul>
</li>
<li><p>table</p>
<p>  <em>table模块提供了对table的基本操作方法</em></p>
<ul>
<li><p>table.insert (list, [pos,] value)<br>  <em>向list中插入元素</em><br>  <em>pos为要插入的位置，插入后pos之后的元素索引自动调整， 省略时，元素插入到list的末尾</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> t = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>&#125;</span><br><span class="line"><span class="built_in">table</span>.insert(t, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">table</span>.insert(t, <span class="number">3</span>, <span class="number">12</span>)</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(t) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>table.remove (list [, pos])<br>  <em>移除list中的元素</em><br>  <em>pos为要移除元素的位置，取值1到#list, 移除后pos之后元素的索引自动调整，省略时移除末尾的元素</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> t = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>&#125;</span><br><span class="line"><span class="built_in">table</span>.remove(t, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> i, k <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i, k)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>table.move (a1, f, e, t [,a2])<br>  <em>移动table中的元素</em><br>  <em>a1为源table, a2为目的table, a2省略时，a1同时为目的table</em><br>  <em>f和e为源table中要移动的元素的起始和终止位置， t为为目的table中的起始位置</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> x = &#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>&#125;</span><br><span class="line"><span class="keyword">local</span> y = &#123;<span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"h"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 移动x中的第1，2个元素到第4个位置</span></span><br><span class="line"><span class="comment">-- 移动后x中元素为a,b,c,a,b， 原来位置的元素被覆盖，长度也增加了</span></span><br><span class="line"><span class="built_in">table</span>.move(x, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">pairs</span>(x) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 移动x中的b, c 到y的1，2位置</span></span><br><span class="line"><span class="comment">-- 移动后y中的元素为b,c,g,h</span></span><br><span class="line"><span class="built_in">table</span>.move(x, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, y)</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">pairs</span>(y) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>table.concat (list [, sep [, i [, j]]])<br>  <em>连接list中的元素</em><br>  <em>sep为连接字符串， i为起始位置， j为终止位置</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> t3 = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.concat(t3, <span class="string">"-"</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.concat(t3, <span class="string">"--"</span>, <span class="number">2</span>, <span class="number">4</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>table.sort (list [, comp])<br>  <em>对table的元素进行排序</em><br>  <em>comp为排序函数，该函数接收两个参数，但函数返回值为true不交换传入的两个参数的位置，返回值为false则交换两个参数的位置</em><br>  <em>comp省略时，默认使用以下排序函数：</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(x, y)</span></span></span><br><span class="line">    <span class="keyword">return</span> x &lt; y</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> t = &#123;<span class="number">34</span>, <span class="number">29</span>, <span class="number">88</span>, <span class="number">99</span>, <span class="number">123</span>&#125;</span><br><span class="line"><span class="built_in">table</span>.sort(t, <span class="function"><span class="keyword">function</span><span class="params">(a, b)</span></span></span><br><span class="line">    <span class="keyword">return</span> a &gt; b</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(t7) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(i,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>table.pack (···)<br>  <em>把传入的参数打包成一个table，并加入一个元素”n”, 值为打包进table的元素个数</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> a = <span class="number">123</span></span><br><span class="line"><span class="keyword">local</span> b = <span class="number">234</span></span><br><span class="line"><span class="keyword">local</span> c = <span class="number">345</span></span><br><span class="line"><span class="keyword">local</span> t = <span class="built_in">table</span>.pack(a, b, c)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>table.unpack (list [, i [, j]])<br>  <em>把table 拆开, 只会返回数字索引元素的值</em><br>  <em>i为起始元素的索引，j为终止元素的索引</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> t = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, s = <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">local</span> x, y, z, n = <span class="built_in">table</span>.<span class="built_in">unpack</span>(t)</span><br><span class="line"><span class="built_in">print</span>(x, y, z, n)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>string</p>
<p>  <em>对字符串进行处理</em></p>
<ul>
<li>string.byte(s, i, j)</li>
<li>string.char(…)</li>
<li>string.find (s, pattern [, init [, plain]])</li>
<li>string.dump (function [, strip])</li>
<li>string.format(format, …)</li>
<li>string.gmatch (s, pattern)</li>
<li>string.gsub (s, pattern, repl [, n])</li>
<li>string.len (s)</li>
<li>string.lower (s)</li>
<li>string.match (s, pattern [, init])</li>
<li>string.pack (fmt, v1, v2, ···)</li>
<li>string.packsize (fmt)</li>
<li>string.rep (s, n [, sep])</li>
<li>string.reverse (s)</li>
<li>string.sub (s, i [, j])</li>
<li>string.unpack (fmt, s [, pos])</li>
<li>string.upper (s)</li>
</ul>
</li>
</ul>
<ul>
<li><p>math</p>
<p>  <em>数学常用函数库</em></p>
<ul>
<li><p>math.abs (x)</p>
</li>
<li><p>math.acos (x)</p>
</li>
<li><p>math.asin (x)</p>
</li>
<li><p>math.atan (y [, x])</p>
</li>
<li><p>math.ceil (x)</p>
</li>
<li><p>math.cos (x)</p>
</li>
<li><p>math.deg (x)</p>
</li>
<li><p>math.exp (x)</p>
</li>
<li><p>math.floor (x)</p>
</li>
<li><p>math.fmod (x, y)</p>
</li>
<li><p>math.log (x [, base])</p>
</li>
<li><p>math.max (x, ···)</p>
</li>
<li><p>math.min (x, ···)</p>
</li>
<li><p>math.modf (x)</p>
</li>
<li><p>math.rad (x)</p>
</li>
<li><p>math.random ([m [, n]])</p>
</li>
<li><p>math.randomseed (x)</p>
</li>
<li><p>math.sin (x)</p>
</li>
<li><p>math.sqrt (x)</p>
</li>
<li><p>math.tan (x)</p>
</li>
<li><p>math.tointeger (x)</p>
</li>
<li><p>math.type (x)</p>
</li>
<li><p>math.ult (m, n)</p>
</li>
</ul>
</li>
<li><p>io</p>
<p>  <em>io库提供对标准输入输出以及文件的基本操作</em></p>
<ul>
<li><p>io.close ([file]) 关闭打开的文件，省略参数时，关闭当前默认的输出文件</p>
</li>
<li><p>io.flush () 把对文件进行的改动写到文件中， 等同于io.output():flush()</p>
</li>
<li><p>io.input ([file]) 设置文件为默认的输入文件，省略参数时设置，返回当前默认的输入文件</p>
</li>
<li><p>io.lines ([filename ···]) 打开文件并返回一个行遍历器</p>
</li>
<li><p>io.open (filename [, mode]) 以指定的模式打开一个文件，返回文件句柄</p>
<p>  <em>打开方式：</em></p>
<ul>
<li>“r”: 只读（默认）</li>
<li>“w”: 只写</li>
<li>“a”: 追加</li>
<li>“r+”: 更新，先前的内容保留</li>
<li>“w+”: 更新，先前的内容清空</li>
<li>“a+”: 从末尾添加</li>
</ul>
</li>
<li><p>io.output ([file]) 设置文件为默认的输出文件，省略参数时设置，返回当前默认的输出文件</p>
</li>
<li><p>io.popen (prog [, mode]) 在新的进程中打开文件， 不是在所有的平台上可用</p>
</li>
<li><p>io.read (···) 读取文件的内容</p>
</li>
<li><p>io.tmpfile () 创建一个堆里零时文件，返回这个文件的句柄，程序结束后会自动删除这个文件</p>
</li>
<li><p>io.type (obj) 检测obj是否是一个打开的文件句柄，返回值为”file”, “closed file”, nil</p>
</li>
<li><p>io.write (···) 向当前输出文件写入内容</p>
</li>
</ul>
</li>
<li><p>os</p>
<p>  <em>封装了一些秕方法</em></p>
<ul>
<li><p>os.clock () 返回CPU时间的近似值</p>
</li>
<li><p>os.date ([format [, time]]) 返回系统日期</p>
<p>  <em>返回两种形式的结果， 参数字符串为’</em>t’时，返回table, 参数为格式化字符串时，返回日期的字符串<em>
  </em>格式化参数*</p>
<ul>
<li>%a 星期几的简写</li>
<li>%A 星期几的全称</li>
<li>%b 月份的简写</li>
<li>%B 月份的全称</li>
<li>%c 标准的日期的时间串</li>
<li>%C 年份的前两位数字</li>
<li>%d 十进制表示的每月的第几天</li>
<li>%D 月/天/年</li>
<li>%e 在两字符域中，十进制表示的每月的第几天</li>
<li>%F 年-月-日</li>
<li>%g 年份的后两位数字，使用基于周的年</li>
<li>%G 年份，使用基于周的年</li>
<li>%h 简写的月份名</li>
<li>%H 24小时制的小时</li>
<li>%I 12小时制的小时</li>
<li>%j 十进制表示的每年的第几天</li>
<li>%m 十进制表示的月份</li>
<li>%M 十时制表示的分钟数</li>
<li>%n 新行符</li>
<li>%p 本地的AM或PM的等价显示</li>
<li>%r 12小时的时间</li>
<li>%R 显示小时和分钟：hh:mm</li>
<li>%S 十进制的秒数</li>
<li>%t 水平制表符</li>
<li>%T 显示时分秒：hh:mm:ss</li>
<li>%u 每周的第几天，星期一为第一天 （值从1到7，星期一为1）</li>
<li>%U 第年的第几周，把星期日作为第一天（值从0到53）</li>
<li>%V 每年的第几周，使用基于周的年</li>
<li>%w 十进制表示的星期几（值从0到6，星期天为0）</li>
<li>%W 每年的第几周，把星期一做为第一天（值从0到53）</li>
<li>%x 标准的日期串</li>
<li>%X 标准的时间串</li>
<li>%y 不带世纪的十进制年份（值从0到99）</li>
<li>%Y 带世纪部分的十制年份</li>
<li>%z，%Z 时区名称，如果不能得到时区名称则返回空字符。</li>
<li>%% 百分号</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.date(<span class="string">"%D"</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.data())</span><br></pre></td></tr></table></figure>
</li>
<li><p>os.time ([table])返回时间值</p>
<p>  <em>不带参数时返回当前时间值，有参数时把传入的时间转为时间值</em></p>
  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.time())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">os</span>.time(&#123;year = <span class="number">2015</span>, month = <span class="number">3</span>, day = <span class="number">19</span>, hour = <span class="number">12</span>, min = <span class="number">0</span>, sec = <span class="number">0</span>&#125;))</span><br></pre></td></tr></table></figure>
</li>
<li><p>os.difftime (t2, t1) 返回时间差，单位为秒（t2-t1)</p>
</li>
<li><p>os.execute ([command]) 执行系统命令</p>
</li>
<li><p>os.exit ([code [, close]]) 终止宿主程序</p>
</li>
<li><p>os.getenv (varname) 返回当前程序的环境变量</p>
</li>
<li><p>os.remove (filename) 删除文件</p>
</li>
<li><p>os.rename (oldname, newname) 文件重命名</p>
</li>
<li><p>os.setlocale (locale [, category]) 设置程序的当前设置</p>
</li>
<li><p>os.tmpname () 返回一个零时文件名，在unix-like系统上，会创建相应的文件</p>
</li>
</ul>
</li>
<li><p>utf8</p>
<p>  <em>提供对utf8编码的支持</em></p>
</li>
<li><p>debug</p>
<p>  <em>提供一些与调试相关的方法</em></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.crazyman.top/2015/05/04/Lua教程2/" data-id="cid2q09gp000wnnar69fkhml7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/05/04/Lua教程3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Lua教程三
        
      </div>
    </a>
  
  
    <a href="/2015/05/04/Lua教程1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Lua教程一</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/工具/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/SVN/">SVN</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/rsync/">rsync</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器/">服务器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/">系统</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/系统/Mac/">Mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/Ubuntu/">Ubuntu</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/语言/">语言</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/语言/LUA/">LUA</a><span class="category-list-count">3</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/">apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-server/">git server</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/git-server/" style="font-size: 10px;">git server</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">存档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最近</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/06/04/使用Unix日志/">使用Unix日志</a>
          </li>
        
          <li>
            <a href="/2015/06/03/unix下创建守护进程/">unix下创建守护进程</a>
          </li>
        
          <li>
            <a href="/2015/05/23/Mac下弹出气泡通知/">Mac下弹出气泡通知</a>
          </li>
        
          <li>
            <a href="/2015/05/23/Linux-Bridge/">Linux Bridge</a>
          </li>
        
          <li>
            <a href="/2015/05/21/SVN忽略文件/">SVN忽略文件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      Copyright (C) 2015 Ozone, All Rights Reserved.<br>
      <a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/index.html" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">存档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    

<script src="/js/jquery-2.0.3.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>